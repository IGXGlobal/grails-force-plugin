/**
 * Auto-generated class by Salesforce Grails plugin.
 * Riptide Force.
 *
 * Represents the ${TYPE_NAME} Salesforce object.
 */
package ${PACKAGE}

import com.sforce.soap.partner.*
import com.sforce.soap.partner.sobject.SObject
import org.apache.axiom.om.*
import com.riptideforce.sfdc.soap.util.SObjectConversionUtil

class ${TYPE_NAME} implements java.io.Serializable {

<%
// Field to type map
def typeMap = [:];

for( field in TYPE_DESC.getFields() ) {

    String fieldType

    // type translation
    switch( field.getType() ) {
        case "string": 
            fieldType = "String"
            break
		case "int":
            fieldType = "Integer"
            break
        case "double":
            fieldType = "Double"
            break
        case "boolean":
            fieldType = "Boolean"
            break
        case "date":
            fieldType = "Date"
            break
        case "datetime":
            fieldType = "Calendar"
            break
        case "base64":
            fieldType = "byte[]"
            break
        default:
            fieldType = "String"
            break
    }
    
    typeMap.put(field.getName(), fieldType)

%>
    ${fieldType} ${field.getName()}
<%
}
%>

    /*
     * Builds an account from its Soap implementation.
     */
    public static ${TYPE_NAME} build${TYPE_NAME}( SObject so ) {

        OMElement[] elems = so.getExtraElement();
        def object = new ${TYPE_NAME}()

        for( OMElement elem : elems ) {

            switch( elem.getLocalName() ) {


<%
for( field in TYPE_DESC.getFields() ) {
%>
                case '${field.getName()}':
                    if( elem.getText() != null ) {
                        object.${field.getName()} = SObjectConversionUtil.convertToJavaType( elem.getText(), "${typeMap.get(field.getName())}" )
                    }
                    break
<%
}
%>
            }

        }

        return object
    }


    public SObject toSObject() {
        // TODO Complete generation of this method.
        return null
    }


    public String toString() {
        String strVal = "";

<%
for( field in TYPE_DESC.getFields() ) {
%>
        strVal = strVal + "${field.getName()}: " + ${field.getName()} + "\\n"
<%
}
%>
        return strVal
    }

}